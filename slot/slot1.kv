#tribe: slime
#role: ranger
#status: use slot


<Play1>:
    FloatLayout:
        id: object
        size: root.width, root.height
        pos: 0,0
        canvas:
            Color:
                rgba: 0, 0, 0.5, 0.5
            Rectangle:
                pos: self.pos
                size: self.size

    BoxLayout:
        orientation: 'vertical'
        id: player
        hp_m: 10
        hp: 10
        mp_m: 100
        mp: 100
        xp_m: 30
        xp: 0
        lv: 1
        str: 1
        int: 1
        agi: 1
        vit: 1
        pos: root.width / 2 - 50, root.height / 2 - 50
        size: 100, 100
        canvas:
            Color:
                rgba: 1, 0, 0, 1
            Rectangle:
                pos: self.pos
                size: self.size
    
    BoxLayout:
        orientation: 'vertical'
        id: enemy
        c: 6
        hp: 5
        pos: 0, 0
        size: 100, 100
        canvas:
            Color:
                rgba: 0.5, 0, 0, 1
            Rectangle:
                pos: self.pos
                size: self.size
    ProgressBar:
        max: 5
        value: enemy.hp
        pos: enemy.pos[0], enemy.pos[1] + 70

    BoxLayout:
        orientation: 'vertical'
        id: bullet0
        pos: 10000, 10000
        size_hint: None, None
        size: 20, 20
        canvas:
            Color:
                rgba: 0, 1, 0, 1
            Ellipse:
                pos: self.pos
                size: self.size

    Widget:
        id: hp_m_bar
        pos: 0, root.height *0.95
        size: root.width * 0.2, root.height * 0.05
        canvas:
            Color: 
                rgba: 0.5, 0.5, 0.5, 1
            Rectangle:
                pos: self.pos
                size: self.size
        BoxLayout:
            orientation: 'vertical'
            id: hp_bar
            pos: hp_m_bar.pos
            size: (player.hp / player.hp_m) * hp_m_bar.size[0], hp_m_bar.size[1]
            canvas:
                Color:
                    rgba: 1, 0, 0, 1
                Rectangle:
                    pos: self.pos
                    size: self.size
        Label:
            text: 'HP: 100%'
            size: hp_m_bar.size
            color: 0, 0, 0, 1
            pos: hp_m_bar.pos

    Widget:
        id: mp_m_bar
        pos: 0, root.height *0.9
        size: root.width * 0.2, root.height * 0.05
        canvas:
            Color: 
                rgba: 0.5, 0.5, 0.5, 1
            Rectangle:
                pos: self.pos
                size: self.size
        BoxLayout:
            orientation: 'vertical'
            id: mp_bar
            pos: mp_m_bar.pos
            size: (player.mp / player.mp_m) * mp_m_bar.size[0], mp_m_bar.size[1]
            canvas:
                Color:
                    rgba: 0, 0, 1, 1
                Rectangle:
                    pos: self.pos
                    size: self.size
        Label:
            text: 'MP: 100%'
            size: mp_m_bar.size
            color: 0, 0, 0, 1
            pos: mp_m_bar.pos

    Widget:
        id: xp_m_bar
        pos: 0, root.height *0.85
        size: root.width * 0.2, root.height * 0.05
        canvas:
            Color: 
                rgba: 0.5, 0.5, 0.5, 1
            Rectangle:
                pos: self.pos
                size: self.size
        BoxLayout:
            orientation: 'vertical'
            id: xp_bar
            pos: xp_m_bar.pos
            size: (player.xp / player.xp_m) * xp_m_bar.size[0], xp_m_bar.size[1]
            canvas:
                Color:
                    rgba: 1, 1, 0, 1
                Rectangle:
                    pos: self.pos
                    size: self.size
        Label:
            text: 'XP: 0%'
            size: xp_m_bar.size
            color: 0, 0, 0, 1
            pos: xp_m_bar.pos

    Button:
        text: 'exit'
        size: root.width * 0.1, root.height * 0.1
        pos: root.width * 0.9, root.height * 0.9
        on_press:
            root.close_play()
            root.open_menu()